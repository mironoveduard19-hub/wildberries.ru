<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>WB Market ‚Äî –ö–æ–ª–µ—Å–æ –£–¥–∞—á–∏</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="header">
  <div class="logo">WB Market</div>
  <div class="badge">üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω—è—è –∞–∫—Ü–∏—è</div>
</header>

<main class="main">
  <h1>–ö–æ–ª–µ—Å–æ —É–¥–∞—á–∏</h1>
  <p class="subtitle">–ö—Ä—É—Ç–∏ –∏ –ø–æ–ª—É—á–∏ —Å–≤–æ–π –ø—Ä–∏–∑</p>

  <div class="wheel-container">
    <div class="pointer"></div>
    <canvas id="wheel" width="300" height="300"></canvas>
  </div>

  <button id="spin">–ö–†–£–¢–ò–¢–¨</button>

  <div id="result"></div>
</main>

<footer>
  ¬© 2025 WB Market ‚Ä¢ –ê–∫—Ü–∏—è
</footer>

<script src="script.js"></script>
</body>
</html>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: Arial, sans-serif;
}

body {
  background: linear-gradient(180deg, #6a00ff, #b100ff);
  color: #fff;
  min-height: 100vh;
}

.header {
  background: #4a00b4;
  padding: 15px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 5px 20px rgba(0,0,0,0.3);
}

.logo {
  font-weight: 900;
  font-size: 20px;
}

.badge {
  background: gold;
  color: #000;
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 13px;
}

.main {
  text-align: center;
  padding: 25px 15px;
}

h1 {
  font-size: 26px;
  margin-bottom: 5px;
}

.subtitle {
  opacity: 0.9;
  margin-bottom: 20px;
}

.wheel-container {
  position: relative;
  width: 300px;
  margin: 0 auto 25px;
}

.pointer {
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 25px solid gold;
  z-index: 10;
}

canvas {
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 15px 40px rgba(0,0,0,0.4);
}

button {
  background: linear-gradient(90deg, #ffcc00, #ff9900);
  border: none;
  padding: 15px 40px;
  border-radius: 30px;
  font-size: 18px;
  font-weight: bold;
  cursor: pointer;
  color: #000;
  box-shadow: 0 5px 20px rgba(0,0,0,0.3);
}

button:active {
  transform: scale(0.96);
}

#result {
  margin-top: 20px;
  font-size: 20px;
  font-weight: bold;
  min-height: 30px;
}

footer {
  text-align: center;
  padding: 15px;
  font-size: 12px;
  opacity: 0.8;
}
const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");
const spinBtn = document.getElementById("spin");
const result = document.getElementById("result");

const prizes = [
  "üéÅ –°–∫–∏–¥–∫–∞ 10%",
  "üî• –°–∫–∏–¥–∫–∞ 20%",
  "‚ùå –ë–µ–∑ –ø—Ä–∏–∑–∞",
  "üéâ –°–∫–∏–¥–∫–∞ 30%",
  "üéÑ –ü–æ–¥–∞—Ä–æ–∫",
  "üí• –°–∫–∏–¥–∫–∞ 50%"
];

const colors = [
  "#ffcc00",
  "#ff6699",
  "#66ffcc",
  "#ff9966",
  "#99ccff",
  "#cc99ff"
];

let angle = 0;
let spinning = false;

function drawWheel() {
  const arc = Math.PI * 2 / prizes.length;
  for (let i = 0; i < prizes.length; i++) {
    ctx.beginPath();
    ctx.fillStyle = colors[i];
    ctx.moveTo(150, 150);
    ctx.arc(150, 150, 150, arc * i + angle, arc * (i + 1) + angle);
    ctx.fill();

    ctx.save();
    ctx.translate(150, 150);
    ctx.rotate(arc * i + arc / 2 + angle);
    ctx.fillStyle = "#000";
    ctx.font = "bold 14px Arial";
    ctx.textAlign = "right";
    ctx.fillText(prizes[i], 140, 5);
    ctx.restore();
  }
}

drawWheel();

spinBtn.onclick = () => {
  if (spinning) return;
  spinning = true;
  result.textContent = "";

  const spinAngle = Math.random() * 3000 + 2000;
  const duration = 4000;
  const start = performance.now();

  function animate(time) {
    const progress = Math.min((time - start) / duration, 1);
    angle = spinAngle * easeOut(progress) * Math.PI / 180;
    ctx.clearRect(0, 0, 300, 300);
    drawWheel();

    if (progress < 1) {
      requestAnimationFrame(animate);
    } else {
      spinning = false;
      const index = prizes.length -
        Math.floor(((angle % (Math.PI * 2)) / (Math.PI * 2)) * prizes.length) - 1;
      result.textContent = –í–∞—à –ø—Ä–∏–∑: ${prizes[index < 0 ? 0 : index]};
    }
  }

  requestAnimationFrame(animate);
};

function easeOut(t) {
  return 1 - Math.pow(1 - t, 3);
}
